{% extends 'base.html' %}
{% set active_page = "restaurants" %}
{% set restaurant = restaurant %}

{% block title %}Inicio{% endblock %}

{% block content %}
    <div class="container py-5" style="border-radius: 50px;">
        <div class="row mb-4 mb-lg-5">
            <div class="col-md-8 col-xl-7 text-center d-flex flex-column justify-content-center mx-auto align-items-xl-center">
                <h1 style="font-family: Amaranth, sans-serif;color: var(--bs-orange);">Consulta los restaurantes</h1>
                <p style="width: 400px;color: var(--bs-white);">Visita el restaurante en el que te encuentras para comenzar a realizar tu orden.</p>
            </div>
        </div>
        <form method="POST">
        <div class="row d-xl-flex mb-4 mb-lg-5" style="text-align: center;">
            <div class="col-xl-5 d-xl-flex justify-content-xl-end">
                <input class="d-xl-flex justify-content-xl-center align-items-xl-center" name="search" type="search" style="border-radius: 20px;height: 44px;width: 250px;padding-left: 10px;" placeholder="Nombre del restaurante">
            </div>
            <div class="col-xl-3 d-xl-flex justify-content-xl-center">
                <select name="category" style="border-radius: 20px;padding-left: 10px;width: 250px;height: 44px;">
                    <optgroup label="CategorÃ­a">
                        <option value="all" selected="">Todos</option>
                        {% for category in categories %}
                            <option value="{{ category }}">{{ category }}</option>
                        {% endfor %}
                    </optgroup>
                </select></div>
            <div class="col-xl-4 d-xl-flex justify-content-xl-start">
                <button class="btn btn-primary shadow" type="submit" style="border-style: none;background: var(--bs-orange);font-family: 'Be Vietnam Pro', sans-serif;">Buscar</a>
            </div>
        </div>
        </form>
    </div>
    <div class="container d-xl-flex justify-content-evenly flex-wrap align-items-xl-center">
        {% for restaurant in restaurants %}
        <div class="row" style="width: 350px;margin-bottom: 100px;">
            <div class="col">
                <div class="card">
                    <div class="card-body">
                        <div class="row" style="margin-bottom: 10px;">
                            <div class="col-xl-3"><img class="d-lg-flex" style="border-radius: 20%;width: 70px;height: 70px;" src="{{url_for('image', filename=restaurant.logo)}}"></div>
                            <div class="col d-flex d-xl-flex flex-column align-content-start justify-content-xl-center align-items-xl-start">
                                <h4 class="d-xl-flex" style="font-family: Amaranth, sans-serif;text-align: left;">{{ restaurant.name }}</h4>
                                <span class="badge" style="background: var(--bs-orange);font-family: 'Be Vietnam Pro', sans-serif;">{{ restaurant.category }}</span>
                            </div>
                        </div>
                        <p class="card-text">{{ restaurant.description }}</p>
                        <p class="card-text" style="font-style: italic;">{{ restaurant.address }}</p>
                        <div class="row">
                            <div class="col d-xl-flex justify-content-center justify-content-xl-center">
                                <a class="btn btn-primary d-xl-flex" href="{{url_for('products', id_restaurant=restaurant._id)}}" role="button" style="border-style: none;background: var(--bs-black);font-family: 'Be Vietnam Pro', sans-serif;">Visitar restaurante</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
{% endblock %}